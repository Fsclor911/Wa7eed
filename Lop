-- ~ Wa7eed The CrAzY ~ - نظام إدارة الضحايا
-- سكربت بواسطة Wa7eed

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer

-- ⚡ الأوامر التلقائية عند بدء التشغيل
local function executeStartupCommands()
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    
    -- الانتظار حتى يتم تحميل اللعبة بالكامل
    wait(5)
    
    -- الأمر الأول: تعيين العنوان
    local Events = ReplicatedStorage:FindFirstChild("Events")
    if Events then
        local SendMessage = Events:FindFirstChild("SendMessage")
        if SendMessage then
            pcall(function()
                SendMessage:FireServer(".titlebk me Wa7eed The CrAzY")
            end)
        end
    end
    
    -- الأمر الثاني: إرسال كل 5 دقائق (تمت إضافته)
    while true do
        wait(300) -- 300 ثانية = 5 دقائق
        pcall(function()
            local SendMessage = ReplicatedStorage.Events.SendMessage
            SendMessage:FireServer("\226\152\133 \239\188\175\239\188\174 \239\188\179\239\189\131\239\188\178\239\189\137\239\188\176\239\188\180 \227\128\142 \239\188\183\239\189\129\239\188\151\239\189\133\239\189\133\239\189\132\227\128\143\226\152\133")
        end)
    end
end

-- تشغيل الأوامر التلقائية
coroutine.wrap(executeStartupCommands)()

-- أنيميشن البدء المحسن
local function showStartupAnimation()
    local StartupGui = Instance.new("ScreenGui")
    StartupGui.Name = "StartupAnimation"
    StartupGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    StartupGui.ResetOnSpawn = false

    local Background = Instance.new("Frame")
    Background.Size = UDim2.new(1, 0, 1, 0)
    Background.BackgroundColor3 = Color3.new(0, 0, 0)
    Background.BorderSizePixel = 0
    Background.Parent = StartupGui

    local Logo = Instance.new("TextLabel")
    Logo.Size = UDim2.new(0, 400, 0, 120)
    Logo.Position = UDim2.new(0.5, -200, 0.5, -60)
    Logo.BackgroundTransparency = 1
    Logo.Text = "Wa7eed"
    Logo.TextColor3 = Color3.new(1, 1, 1)
    Logo.TextSize = 48
    Logo.Font = Enum.Font.GothamBlack
    Logo.Parent = StartupGui

    StartupGui.Parent = CoreGui

    -- أنيميشن الدخول
    local tweenInfo = TweenInfo.new(2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tweenIn = TweenService:Create(Logo, tweenInfo, {TextColor3 = Color3.new(1, 1, 1), TextTransparency = 0})
    tweenIn:Play()

    -- أنيميشن حركة الماء للاسم
    local waveConnection
    waveConnection = RunService.Heartbeat:Connect(function()
        local time = tick()
        Logo.Rotation = math.sin(time * 2) * 1.5
        Logo.TextColor3 = Color3.new(1, 1, 1)
    end)

    wait(3)

    -- إيقاف أنيميشن الماء
    waveConnection:Disconnect()
    Logo.Rotation = 0

    -- أنيميشن إخفاء الخلفية أولاً
    local tweenBg = TweenService:Create(Background, tweenInfo, {BackgroundTransparency = 1})
    tweenBg:Play()

    wait(1)

    -- أنيميشن إخفاء الاسم
    local tweenOut = TweenService:Create(Logo, tweenInfo, {TextTransparency = 1})
    tweenOut:Play()

    wait(2)
    StartupGui:Destroy()
end

-- تشغيل أنيميشن البدء
coroutine.wrap(showStartupAnimation)()

-- الواجهة الرئيسية
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Wa7eedTheCrAzY"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

-- زر التفعيل
local ToggleButton = Instance.new("TextButton")
ToggleButton.Name = "ToggleButton"
ToggleButton.Size = UDim2.new(0, 40, 0, 40)
ToggleButton.Position = UDim2.new(0, 20, 0, 20)
ToggleButton.BackgroundColor3 = Color3.new(0, 0, 0)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.Text = "W"
ToggleButton.TextSize = 18
ToggleButton.Font = Enum.Font.GothamBlack
ToggleButton.BorderSizePixel = 3
ToggleButton.BorderColor3 = Color3.new(1, 1, 1)
ToggleButton.ZIndex = 10

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(1, 0)
corner.Parent = ToggleButton

-- الإطار الرئيسي
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 500, 0, 600)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -300)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
MainFrame.BorderSizePixel = 3
MainFrame.BorderColor3 = Color3.new(1, 1, 1)
MainFrame.Visible = false
MainFrame.Active = true
MainFrame.Draggable = true

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 12)
mainCorner.Parent = MainFrame

-- العنوان
local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(1, 0, 0, 50)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Text = "~ Wa7eed The CrAzY ~"
Title.TextSize = 20
Title.Font = Enum.Font.GothamBlack
Title.BorderSizePixel = 3
Title.BorderColor3 = Color3.new(1, 1, 1)
Title.TextXAlignment = Enum.TextXAlignment.Center

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 8)
titleCorner.Parent = Title

-- أزرار الأقسام
local TabsFrame = Instance.new("Frame")
TabsFrame.Name = "TabsFrame"
TabsFrame.Size = UDim2.new(1, -20, 0, 40)
TabsFrame.Position = UDim2.new(0, 10, 0, 60)
TabsFrame.BackgroundTransparency = 1

local TabsGrid = Instance.new("UIGridLayout")
TabsGrid.CellPadding = UDim2.new(0, 5, 0, 0)
TabsGrid.CellSize = UDim2.new(0.19, 0, 1, 0)
TabsGrid.FillDirection = Enum.FillDirection.Horizontal
TabsGrid.Parent = TabsFrame

-- وظيفة إنشاء أزرار الأقسام
local function createTabButton(name)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0, 100, 0, 40)
    button.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Text = name
    button.TextSize = 12
    button.Font = Enum.Font.GothamBlack
    button.BorderSizePixel = 3
    button.BorderColor3 = Color3.new(1, 1, 1)
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 6)
    buttonCorner.Parent = button
    
    return button
end

-- إنشاء أزرار الأقسام (تم إضافة قسم السبام)
local VictimTab = createTabButton("الضحيه")
local PlayerTab = createTabButton("اللاعب")
local FeaturesTab = createTabButton("المميزات")
local SpamTab = createTabButton("سبام")
local RightsTab = createTabButton("الحقوق")

VictimTab.Parent = TabsFrame
PlayerTab.Parent = TabsFrame
FeaturesTab.Parent = TabsFrame
SpamTab.Parent = TabsFrame
RightsTab.Parent = TabsFrame

-- إطارات المحتوى لكل قسم
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -20, 0, 490)
ContentFrame.Position = UDim2.new(0, 10, 0, 110)
ContentFrame.BackgroundTransparency = 1

-- قسم الضحية
local VictimSection = Instance.new("Frame")
VictimSection.Name = "VictimSection"
VictimSection.Size = UDim2.new(1, 0, 1, 0)
VictimSection.Position = UDim2.new(0, 0, 0, 0)
VictimSection.BackgroundTransparency = 1
VictimSection.Visible = true

-- معلومات الضحية
local VictimInfo = Instance.new("Frame")
VictimInfo.Name = "VictimInfo"
VictimInfo.Size = UDim2.new(1, 0, 0, 100)
VictimInfo.Position = UDim2.new(0, 0, 0, 0)
VictimInfo.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
VictimInfo.BorderSizePixel = 3
VictimInfo.BorderColor3 = Color3.new(1, 1, 1)

local infoCorner = Instance.new("UICorner")
infoCorner.CornerRadius = UDim.new(0, 8)
infoCorner.Parent = VictimInfo

local VictimAvatar = Instance.new("ImageLabel")
VictimAvatar.Name = "VictimAvatar"
VictimAvatar.Size = UDim2.new(0, 60, 0, 60)
VictimAvatar.Position = UDim2.new(0, 10, 0, 20)
VictimAvatar.BackgroundColor3 = Color3.new(1, 1, 1)
VictimAvatar.BorderSizePixel = 3
VictimAvatar.BorderColor3 = Color3.new(1, 1, 1)
VictimAvatar.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"

local avatarCorner = Instance.new("UICorner")
avatarCorner.CornerRadius = UDim.new(0, 6)
avatarCorner.Parent = VictimAvatar

local VictimName = Instance.new("TextLabel")
VictimName.Name = "VictimName"
VictimName.Size = UDim2.new(0, 300, 0, 30)
VictimName.Position = UDim2.new(0, 80, 0, 30)
VictimName.BackgroundTransparency = 1
VictimName.TextColor3 = Color3.new(1, 1, 1)
VictimName.Text = "لا يوجد ضحية محددة"
VictimName.TextSize = 16
VictimName.Font = Enum.Font.GothamBlack
VictimName.TextXAlignment = Enum.TextXAlignment.Left

-- إطار الإدخال
local InputFrame = Instance.new("Frame")
InputFrame.Name = "InputFrame"
InputFrame.Size = UDim2.new(1, 0, 0, 40)
InputFrame.Position = UDim2.new(0, 0, 0, 110)
InputFrame.BackgroundTransparency = 1

local VictimInput = Instance.new("TextBox")
VictimInput.Name = "VictimInput"
VictimInput.Size = UDim2.new(0.7, 0, 1, 0)
VictimInput.Position = UDim2.new(0, 0, 0, 0)
VictimInput.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
VictimInput.TextColor3 = Color3.new(1, 1, 1)
VictimInput.PlaceholderText = "أدخل اسم المستخدم (3 أحرف على الأقل)"
VictimInput.PlaceholderColor3 = Color3.new(0.7, 0.7, 0.7)
VictimInput.Text = ""
VictimInput.TextSize = 14
VictimInput.Font = Enum.Font.GothamBold
VictimInput.BorderSizePixel = 3
VictimInput.BorderColor3 = Color3.new(1, 1, 1)

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 6)
inputCorner.Parent = VictimInput

local SetVictimButton = Instance.new("TextButton")
SetVictimButton.Name = "SetVictimButton"
SetVictimButton.Size = UDim2.new(0.28, 0, 1, 0)
SetVictimButton.Position = UDim2.new(0.72, 0, 0, 0)
SetVictimButton.BackgroundColor3 = Color3.new(0, 0, 0)
SetVictimButton.TextColor3 = Color3.new(1, 1, 1)
SetVictimButton.Text = "تحديد الضحية"
SetVictimButton.TextSize = 14
SetVictimButton.Font = Enum.Font.GothamBlack
SetVictimButton.BorderSizePixel = 3
SetVictimButton.BorderColor3 = Color3.new(1, 1, 1)

local setCorner = Instance.new("UICorner")
setCorner.CornerRadius = UDim.new(0, 6)
setCorner.Parent = SetVictimButton

-- إطار التمرير للأزرار
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Name = "ScrollFrame"
ScrollFrame.Size = UDim2.new(1, 0, 0, 330)
ScrollFrame.Position = UDim2.new(0, 0, 0, 160)
ScrollFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
ScrollFrame.BorderSizePixel = 3
ScrollFrame.BorderColor3 = Color3.new(1, 1, 1)
ScrollFrame.ScrollBarThickness = 8
ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 2500) -- زيادة الطول لاستيعاب الأزرار الجديدة

local scrollCorner = Instance.new("UICorner")
scrollCorner.CornerRadius = UDim.new(0, 8)
scrollCorner.Parent = ScrollFrame

-- شبكة الأزرار
local ButtonGrid = Instance.new("UIGridLayout")
ButtonGrid.CellPadding = UDim2.new(0, 5, 0, 5)
ButtonGrid.CellSize = UDim2.new(0, 110, 0, 35)
ButtonGrid.HorizontalAlignment = Enum.HorizontalAlignment.Center
ButtonGrid.SortOrder = Enum.SortOrder.LayoutOrder
ButtonGrid.Parent = ScrollFrame

-- وظيفة إنشاء الأزرار مع الأنيميشن
local function createButton(name, layoutOrder)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0, 110, 0, 35)
    button.BackgroundColor3 = Color3.new(0, 0, 0)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Text = name
    button.TextSize = 11
    button.Font = Enum.Font.GothamBlack
    button.TextStrokeColor3 = Color3.new(0, 0, 0)
    button.TextStrokeTransparency = 0.3
    button.BorderSizePixel = 3
    button.BorderColor3 = Color3.new(1, 1, 1)
    button.LayoutOrder = layoutOrder
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 6)
    buttonCorner.Parent = button
    
    -- أنيميشن الزر عند المرور
    button.MouseEnter:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, {
            BackgroundColor3 = Color3.new(0.2, 0.2, 0.2),
            Size = UDim2.new(0, 115, 0, 38)
        })
        tween:Play()
    end)
    
    button.MouseLeave:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, {
            BackgroundColor3 = Color3.new(0, 0, 0),
            Size = UDim2.new(0, 110, 0, 35)
        })
        tween:Play()
    end)
    
    button.Parent = ScrollFrame
    return button
end

-- إنشاء جميع أزرار الضحية (محدثة ومصححة)
local victimButtons = {
    -- الأزرار الأساسية المحفوظة في أماكنها
    {name = "مشاهدة", type = "spectate", order = 1},
    {name = "انتقال", type = "teleport", order = 2},
    {name = "إعادة تعيين", type = "reset", order = 3},
    {name = "to", type = "to", order = 4},
    
    -- الأزرار المتبقية
    {name = "كلب", type = "dog", order = 5},
    {name = "دوده", type = "worm", order = 6},
    {name = "منور", type = "neon", order = 7},
    {name = "احمر", type = "red", order = 8},
    {name = "وردي", type = "pink", order = 9},
    {name = "اخضر", type = "green", order = 10},
    {name = "ازرق فاتح", type = "blue", order = 11},
    {name = "اسود", type = "black", order = 12},
    {name = "ازرق", type = "darkblue", order = 13},
    {name = "اصفر", type = "yellow", order = 14},
    {name = "برتقالي", type = "orange", order = 15},
    {name = "بنفسجي", type = "purple", order = 16},
    {name = "ايقاف اللون", type = "uncolour", order = 17},
    {name = "طيران 60", type = "fly60", order = 18},
    {name = "طيران 120", type = "fly120", order = 19},
    {name = "طيران 220", type = "fly220", order = 20}, -- جديد
    {name = "ايقاف الطيران", type = "unfly", order = 21},
    {name = "سرعة 60", type = "speed60", order = 22},
    {name = "سرعة 120", type = "speed120", order = 23},
    {name = "سرعة 220", type = "speed220", order = 24}, -- جديد
    {name = "رقصه 1", type = "fryDance", order = 25},
    {name = "رقصه 2", type = "takethel", order = 26},
    {name = "ميت", type = "fakeDeath", order = 27},
    {name = "فار يرقص", type = "ratDance", order = 28},
    {name = "جلوس 1", type = "sit", order = 29},
    {name = "جلوس 2", type = "cuteSit", order = 30},
    {name = "دب", type = "fat", order = 31},
    {name = "نحيف", type = "thin", order = 32},
    {name = "مربع", type = "hide", order = 33},
    {name = "صندوق", type = "box", order = 34},
    {name = "استلقاء في الهواء", type = "aura", order = 35},
    {name = "سياره", type = "car", order = 36},
    {name = "دخان", type = "smoke", order = 37},
    {name = "ايقاف الدخان", type = "unsmoke", order = 38},
    {name = "نار", type = "fire", order = 39},
    {name = "ايقاف النار", type = "unfire", order = 40},
    {name = "معضل", type = "buffify", order = 41},
    {name = "عشوائي", type = "emote", order = 42},
    {name = "دبابه حربيه", type = "tank", order = 43},
    {name = "اسكن +18 1", type = "charMiri", order = 44},
    {name = "اسكن تخريب 1", type = "charCrazy", order = 45},
    {name = "حجم كبير", type = "size3", order = 46},
    {name = "حجم متوسط", type = "size2", order = 47},
    {name = "حجم طبيعي", type = "size1", order = 48},
    {name = "ذهب", type = "gold", order = 49},
    {name = "شفاف", type = "glass", order = 50},
    {name = "اخفاء", type = "ref", order = 51},
    {name = "تعليق الضحيه", type = "suspendVictim", order = 52}, -- جديد
    {name = "فك تعليق الضحيه", type = "unsuspendVictim", order = 53}, -- جديد
    {name = "تعليق الطيران", type = "suspendFly", order = 54}, -- جديد
    {name = "فك تعليق الطيران", type = "unsuspendFly", order = 55}, -- جديد
    {name = "نسخ 1", type = "copy1", order = 56},
    
    -- الأزرار الجديدة
    {name = "سكن دوده", type = "wormify", order = 57},
    {name = "جسم بنت", type = "chibify", order = 58},
    {name = "جسم صغير", type = "plushify", order = 59},
    {name = "سكن ضفدع", type = "frogify", order = 60},
    {name = "سكن سبونج", type = "spongify", order = 61},
    {name = "جسم ضخم", type = "bigify", order = 62},
    {name = "سكن وحش", type = "creepify", order = 63},
    {name = "سكن ديناصور", type = "dinofy", order = 64},
    {name = "سكن دب عبد", type = "fatify", order = 65},
    {name = "اختفاء خفيف 1", type = "shine", order = 66},
    {name = "اختفاء خفيف 2", type = "ghost", order = 67},
    {name = "راس كبير", type = "giantDwarf", order = 68},
    {name = "تفصيخ تيشرت", type = "shirt", order = 69},
    {name = "تفصيخ كامل", type = "pants", order = 70},
    {name = "فك الهيدلست", type = "head", order = 71},
    {name = "هليكوبتر", type = "helicopter", order = 72},
    {name = "نسخ 2", type = "copy2", order = 73},
    {name = "نسخ 3", type = "copy3", order = 74},
    {name = "نسخ 4", type = "copy4", order = 75},
    {name = "نسخ 5", type = "copy5", order = 76},
    {name = "نسخ 6", type = "copy6", order = 77},
    {name = "نسخ 7", type = "copy7", order = 78},
    {name = "نسخ 8", type = "copy8", order = 79},
    {name = "نسخ 9", type = "copy9", order = 80},
    {name = "نسخ 12", type = "copy12", order = 81}, -- جديد
    
    -- الأزرار الجديدة المطلوبة
    {name = "ارتجاج", type = "phase", order = 84},
    {name = "char", type = "char", order = 85},
    {name = "unchar", type = "unchar", order = 86},
    {name = "ايقاف 1", type = "undog", order = 87},
    {name = "ايقاف 2", type = "unneon", order = 88},
    {name = "ايقاف 3", type = "unwormify", order = 89},
    {name = "نسخ 10", type = "copy10", order = 90},
    {name = "نسخ 11", type = "copy11", order = 91},
    {name = "نسخ 13", type = "copy13", order = 92},
    {name = "نسخ 14", type = "copy14", order = 93},
    {name = "نسخ 15", type = "copy15", order = 94},
    
    -- الأزرار الجديدة المضافة (ثلاثة ازرار بعد حذف الفلنق)
    {name = "بانق", type = "bang", order = 95},
    {name = "بانق بالراس", type = "bangHead", order = 96},
    {name = "بانق من الامام", type = "bangFront", order = 97}
}

local buttonInstances = {}

for _, buttonInfo in ipairs(victimButtons) do
    local button = createButton(buttonInfo.name, buttonInfo.order)
    buttonInstances[buttonInfo.type] = button
end

-- قسم السبام الجديد والمحدث
local SpamSection = Instance.new("Frame")
SpamSection.Name = "SpamSection"
SpamSection.Size = UDim2.new(1, 0, 1, 0)
SpamSection.Position = UDim2.new(0, 0, 0, 0)
SpamSection.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
SpamSection.BorderSizePixel = 3
SpamSection.BorderColor3 = Color3.new(1, 1, 1)
SpamSection.Visible = false

local spamCorner = Instance.new("UICorner")
spamCorner.CornerRadius = UDim.new(0, 8)
spamCorner.Parent = SpamSection

-- إطار التمرير لقسم السبام - تم زيادة الطول
local SpamScrollFrame = Instance.new("ScrollingFrame")
SpamScrollFrame.Name = "SpamScrollFrame"
SpamScrollFrame.Size = UDim2.new(1, -20, 1, -20)
SpamScrollFrame.Position = UDim2.new(0, 10, 0, 10)
SpamScrollFrame.BackgroundTransparency = 1
SpamScrollFrame.ScrollBarThickness = 8
SpamScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 800) -- تم زيادة الطول من 600 إلى 800

local SpamButtonGrid = Instance.new("UIGridLayout")
SpamButtonGrid.CellPadding = UDim2.new(0, 5, 0, 10)
SpamButtonGrid.CellSize = UDim2.new(1, -10, 0, 50)
SpamButtonGrid.SortOrder = Enum.SortOrder.LayoutOrder
SpamButtonGrid.Parent = SpamScrollFrame

-- إنشاء أزرار السبام (محدثة ومرتبة)
local spamButtons = {
    {name = "سبام 1", type = "spam1", order = 1},
    {name = "سبام 2", type = "spam2", order = 2},
    {name = "سبام 3", type = "spam3", order = 3}, -- جديد
    {name = "سبام 4", type = "spam4", order = 4}, -- جديد
    {name = "سبام تلقائي 1", type = "autoSpam1", order = 5},
    {name = "سبام تلقائي 2", type = "autoSpam2", order = 6},
    {name = "سبام تلقائي 3", type = "autoSpam3", order = 7}, -- جديد
    {name = "سبام تلقائي 4", type = "autoSpam4", order = 8} -- جديد
}

local spamButtonInstances = {}
local autoSpamActive = {
    autoSpam1 = false,
    autoSpam2 = false,
    autoSpam3 = false, -- جديد
    autoSpam4 = false  -- جديد
}
local autoSpamConnections = {}

local function createSpamButton(name, layoutOrder)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(1, -10, 0, 50)
    button.BackgroundColor3 = Color3.new(0, 0, 0)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Text = name
    button.TextSize = 14
    button.Font = Enum.Font.GothamBlack
    button.TextStrokeColor3 = Color3.new(0, 0, 0)
    button.TextStrokeTransparency = 0.3
    button.BorderSizePixel = 3
    button.BorderColor3 = Color3.new(1, 1, 1)
    button.LayoutOrder = layoutOrder
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 6)
    buttonCorner.Parent = button
    
    -- أنيميشن الزر عند المرور
    button.MouseEnter:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, {
            BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
        })
        tween:Play()
    end)
    
    button.MouseLeave:Connect(function()
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, {
            BackgroundColor3 = Color3.new(0, 0, 0)
        })
        tween:Play()
    end)
    
    button.Parent = SpamScrollFrame
    return button
end

for _, buttonInfo in ipairs(spamButtons) do
    local button = createSpamButton(buttonInfo.name, buttonInfo.order)
    spamButtonInstances[buttonInfo.type] = button
end

-- باقي الأقسام
local PlayerSection = Instance.new("Frame")
PlayerSection.Name = "PlayerSection"
PlayerSection.Size = UDim2.new(1, 0, 1, 0)
PlayerSection.Position = UDim2.new(0, 0, 0, 0)
PlayerSection.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
PlayerSection.BorderSizePixel = 3
PlayerSection.BorderColor3 = Color3.new(1, 1, 1)
PlayerSection.Visible = false

local playerCorner = Instance.new("UICorner")
playerCorner.CornerRadius = UDim.new(0, 8)
playerCorner.Parent = PlayerSection

local PlayerLabel = Instance.new("TextLabel")
PlayerLabel.Size = UDim2.new(1, -20, 1, -20)
PlayerLabel.Position = UDim2.new(0, 10, 0, 10)
PlayerLabel.BackgroundTransparency = 1
PlayerLabel.TextColor3 = Color3.new(1, 1, 1)
PlayerLabel.Text = "قسم اللاعب - قريباً"
PlayerLabel.TextSize = 18
PlayerLabel.Font = Enum.Font.GothamBlack
PlayerLabel.TextXAlignment = Enum.TextXAlignment.Center
PlayerLabel.Parent = PlayerSection

local FeaturesSection = Instance.new("Frame")
FeaturesSection.Name = "FeaturesSection"
FeaturesSection.Size = UDim2.new(1, 0, 1, 0)
FeaturesSection.Position = UDim2.new(0, 0, 0, 0)
FeaturesSection.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
FeaturesSection.BorderSizePixel = 3
FeaturesSection.BorderColor3 = Color3.new(1, 1, 1)
FeaturesSection.Visible = false

local featuresCorner = Instance.new("UICorner")
featuresCorner.CornerRadius = UDim.new(0, 8)
featuresCorner.Parent = FeaturesSection

local FeaturesLabel = Instance.new("TextLabel")
FeaturesLabel.Size = UDim2.new(1, -20, 1, -20)
FeaturesLabel.Position = UDim2.new(0, 10, 0, 10)
FeaturesLabel.BackgroundTransparency = 1
FeaturesLabel.TextColor3 = Color3.new(1, 1, 1)
FeaturesLabel.Text = "قسم المميزات - قريباً"
FeaturesLabel.TextSize = 18
FeaturesLabel.Font = Enum.Font.GothamBlack
FeaturesLabel.TextXAlignment = Enum.TextXAlignment.Center
FeaturesLabel.Parent = FeaturesSection

-- قسم الحقوق المحدث والمحسن بدون صور
local RightsSection = Instance.new("Frame")
RightsSection.Name = "RightsSection"
RightsSection.Size = UDim2.new(1, 0, 1, 0)
RightsSection.Position = UDim2.new(0, 0, 0, 0)
RightsSection.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
RightsSection.BorderSizePixel = 3
RightsSection.BorderColor3 = Color3.new(1, 1, 1)
RightsSection.Visible = false

local rightsCorner = Instance.new("UICorner")
rightsCorner.CornerRadius = UDim.new(0, 8)
rightsCorner.Parent = RightsSection

-- إطار التمرير لقسم الحقوق - تم زيادة الطول
local RightsScrollFrame = Instance.new("ScrollingFrame")
RightsScrollFrame.Name = "RightsScrollFrame"
RightsScrollFrame.Size = UDim2.new(1, -20, 1, -20)
RightsScrollFrame.Position = UDim2.new(0, 10, 0, 10)
RightsScrollFrame.BackgroundTransparency = 1
RightsScrollFrame.ScrollBarThickness = 8
RightsScrollFrame.CanvasSize = UDim2.new(0, 0, 0, 800) -- زيادة الطول

-- المطور الرئيسي - بدون صورة
local OwnerFrame = Instance.new("Frame")
OwnerFrame.Name = "OwnerFrame"
OwnerFrame.Size = UDim2.new(1, 0, 0, 120)
OwnerFrame.Position = UDim2.new(0, 0, 0, 20)
OwnerFrame.BackgroundTransparency = 1
OwnerFrame.Parent = RightsScrollFrame

local OwnerTitle = Instance.new("TextLabel")
OwnerTitle.Name = "OwnerTitle"
OwnerTitle.Size = UDim2.new(1, -40, 0, 40)
OwnerTitle.Position = UDim2.new(0, 20, 0, 0)
OwnerTitle.BackgroundColor3 = Color3.new(0, 0, 0)
OwnerTitle.TextColor3 = Color3.new(1, 1, 1)
OwnerTitle.Text = "OWNER"
OwnerTitle.TextSize = 24
OwnerTitle.Font = Enum.Font.GothamBlack
OwnerTitle.BorderSizePixel = 3
OwnerTitle.BorderColor3 = Color3.new(1, 1, 1)
OwnerTitle.TextXAlignment = Enum.TextXAlignment.Center

local ownerTitleCorner = Instance.new("UICorner")
ownerTitleCorner.CornerRadius = UDim.new(0, 8)
ownerTitleCorner.Parent = OwnerTitle

local OwnerInfo = Instance.new("TextLabel")
OwnerInfo.Name = "OwnerInfo"
OwnerInfo.Size = UDim2.new(1, -40, 0, 70)
OwnerInfo.Position = UDim2.new(0, 20, 0, 50)
OwnerInfo.BackgroundTransparency = 1
OwnerInfo.TextColor3 = Color3.new(1, 1, 1)
OwnerInfo.Text = "Wa7eed\n\n@sj3zx"
OwnerInfo.TextSize = 22
OwnerInfo.Font = Enum.Font.GothamBlack
OwnerInfo.TextXAlignment = Enum.TextXAlignment.Center
OwnerInfo.TextYAlignment = Enum.TextYAlignment.Center
OwnerInfo.Parent = OwnerFrame

OwnerTitle.Parent = OwnerFrame

-- مسافة
local Spacer1 = Instance.new("Frame")
Spacer1.Name = "Spacer1"
Spacer1.Size = UDim2.new(1, 0, 0, 30)
Spacer1.Position = UDim2.new(0, 0, 0, 150)
Spacer1.BackgroundTransparency = 1
Spacer1.Parent = RightsScrollFrame

-- المطور المساعد - بدون صورة
local ViceOwnerFrame = Instance.new("Frame")
ViceOwnerFrame.Name = "ViceOwnerFrame"
ViceOwnerFrame.Size = UDim2.new(1, 0, 0, 120)
ViceOwnerFrame.Position = UDim2.new(0, 0, 0, 190)
ViceOwnerFrame.BackgroundTransparency = 1
ViceOwnerFrame.Parent = RightsScrollFrame

local ViceOwnerTitle = Instance.new("TextLabel")
ViceOwnerTitle.Name = "ViceOwnerTitle"
ViceOwnerTitle.Size = UDim2.new(1, -40, 0, 40)
ViceOwnerTitle.Position = UDim2.new(0, 20, 0, 0)
ViceOwnerTitle.BackgroundColor3 = Color3.new(0, 0, 0)
ViceOwnerTitle.TextColor3 = Color3.new(1, 1, 1)
ViceOwnerTitle.Text = "VICE OWNER"
ViceOwnerTitle.TextSize = 24
ViceOwnerTitle.Font = Enum.Font.GothamBlack
ViceOwnerTitle.BorderSizePixel = 3
ViceOwnerTitle.BorderColor3 = Color3.new(1, 1, 1)
ViceOwnerTitle.TextXAlignment = Enum.TextXAlignment.Center

local viceOwnerTitleCorner = Instance.new("UICorner")
viceOwnerTitleCorner.CornerRadius = UDim.new(0, 8)
viceOwnerTitleCorner.Parent = ViceOwnerTitle

local ViceOwnerInfo = Instance.new("TextLabel")
ViceOwnerInfo.Name = "ViceOwnerInfo"
ViceOwnerInfo.Size = UDim2.new(1, -40, 0, 70)
ViceOwnerInfo.Position = UDim2.new(0, 20, 0, 50)
ViceOwnerInfo.BackgroundTransparency = 1
ViceOwnerInfo.TextColor3 = Color3.new(1, 1, 1)
ViceOwnerInfo.Text = "2EVER\n\n@2liiliil"
ViceOwnerInfo.TextSize = 22
ViceOwnerInfo.Font = Enum.Font.GothamBlack
ViceOwnerInfo.TextXAlignment = Enum.TextXAlignment.Center
ViceOwnerInfo.TextYAlignment = Enum.TextYAlignment.Center
ViceOwnerInfo.Parent = ViceOwnerFrame

ViceOwnerTitle.Parent = ViceOwnerFrame

-- مسافة
local Spacer2 = Instance.new("Frame")
Spacer2.Name = "Spacer2"
Spacer2.Size = UDim2.new(1, 0, 0, 40)
Spacer2.Position = UDim2.new(0, 0, 0, 320)
Spacer2.BackgroundTransparency = 1
Spacer2.Parent = RightsScrollFrame

-- نص الحقوق المحدث
local RightsText = Instance.new("TextLabel")
RightsText.Name = "RightsText"
RightsText.Size = UDim2.new(1, -20, 0, 80)
RightsText.Position = UDim2.new(0, 10, 0, 370)
RightsText.BackgroundTransparency = 1
RightsText.TextColor3 = Color3.new(1, 1, 1)
RightsText.Text = "هذه الحقوق محفوظه الي Wa7eed"
RightsText.TextSize = 26
RightsText.Font = Enum.Font.GothamBlack
RightsText.TextXAlignment = Enum.TextXAlignment.Center
RightsText.TextYAlignment = Enum.TextYAlignment.Center
RightsText.Parent = RightsScrollFrame

-- زر نسخ رابط الديسكورد المحدث
local DiscordButton = Instance.new("TextButton")
DiscordButton.Name = "DiscordButton"
DiscordButton.Size = UDim2.new(1, -40, 0, 60)
DiscordButton.Position = UDim2.new(0, 20, 0, 470)
DiscordButton.BackgroundColor3 = Color3.new(0, 0, 0)
DiscordButton.TextColor3 = Color3.new(1, 1, 1)
DiscordButton.Text = "انسخ سيرفرنا على الديسكورد"
DiscordButton.TextSize = 18
DiscordButton.Font = Enum.Font.GothamBlack
DiscordButton.BorderSizePixel = 3
DiscordButton.BorderColor3 = Color3.new(1, 1, 1)

local discordCorner = Instance.new("UICorner")
discordCorner.CornerRadius = UDim.new(0, 10)
discordCorner.Parent = DiscordButton

-- أنيميشن زر الديسكورد
DiscordButton.MouseEnter:Connect(function()
    local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tween = TweenService:Create(DiscordButton, tweenInfo, {
        BackgroundColor3 = Color3.new(0.2, 0.2, 0.2),
        Size = UDim2.new(1, -30, 0, 65)
    })
    tween:Play()
end)

DiscordButton.MouseLeave:Connect(function()
    local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tween = TweenService:Create(DiscordButton, tweenInfo, {
        BackgroundColor3 = Color3.new(0, 0, 0),
        Size = UDim2.new(1, -40, 0, 60)
    })
    tween:Play()
end)

DiscordButton.MouseButton1Click:Connect(function()
    -- نسخ رابط الديسكورد
    pcall(function()
        setclipboard("https://discord.gg/6T6W3GcxUX")
    end)
end)

DiscordButton.Parent = RightsScrollFrame

-- نظام الإشعارات المحسن
local NotificationGui = Instance.new("ScreenGui")
NotificationGui.Name = "Notifications"
NotificationGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
NotificationGui.ResetOnSpawn = false
NotificationGui.Parent = CoreGui

local activeNotifications = {}
local lastVictim = nil

local function showNotification(message, playerInfo, hasCloseButton)
    local notification = Instance.new("Frame")
    notification.Size = UDim2.new(0, 350, 0, 80)
    notification.Position = UDim2.new(1, -360, 0, 10 + (#activeNotifications * 90))
    notification.BackgroundColor3 = Color3.new(0, 0, 0)
    notification.BorderSizePixel = 3
    notification.BorderColor3 = Color3.new(1, 1, 1)
    notification.ZIndex = 100
    
    local notifCorner = Instance.new("UICorner")
    notifCorner.CornerRadius = UDim.new(0, 8)
    notifCorner.Parent = notification
    
    local messageLabel = Instance.new("TextLabel")
    messageLabel.Size = UDim2.new(1, -10, hasCloseButton and 0.7 or 1, hasCloseButton and -5 or 0)
    messageLabel.Position = UDim2.new(0, 5, 0, 5)
    messageLabel.BackgroundTransparency = 1
    messageLabel.TextColor3 = Color3.new(1, 1, 1)
    messageLabel.Text = message
    messageLabel.TextSize = 14
    messageLabel.Font = Enum.Font.GothamBlack
    messageLabel.TextWrapped = true
    messageLabel.Parent = notification
    
    -- زر الإغلاق يظهر فقط للإشعارات التي تحتاجه
    if hasCloseButton then
        local closeButton = Instance.new("TextButton")
        closeButton.Size = UDim2.new(0, 60, 0, 25)
        closeButton.Position = UDim2.new(0.5, -30, 0.7, 5)
        closeButton.BackgroundColor3 = Color3.new(0, 0, 0)
        closeButton.TextColor3 = Color3.new(1, 1, 1)
        closeButton.Text = "تم"
        closeButton.TextSize = 12
        closeButton.Font = Enum.Font.GothamBlack
        closeButton.BorderSizePixel = 3
        closeButton.BorderColor3 = Color3.new(1, 1, 1)
        closeButton.Parent = notification
        
        local closeCorner = Instance.new("UICorner")
        closeCorner.CornerRadius = UDim.new(0, 4)
        closeCorner.Parent = closeButton
        
        closeButton.MouseButton1Click:Connect(function()
            local index = table.find(activeNotifications, notification)
            if index then
                table.remove(activeNotifications, index)
            end
            
            local tweenOut = TweenService:Create(notification, TweenInfo.new(0.5), {Position = UDim2.new(1, 400, 0, notification.Position.Y.Offset)})
            tweenOut:Play()
            
            wait(0.5)
            notification:Destroy()
            
            for i, notif in ipairs(activeNotifications) do
                notif.Position = UDim2.new(1, -360, 0, 10 + ((i-1) * 90))
            end
        end)
    end
    
    if playerInfo then
        local playerImage = Instance.new("ImageLabel")
        playerImage.Size = UDim2.new(0, 50, 0, 50)
        playerImage.Position = UDim2.new(0, 10, 0, 15)
        playerImage.BackgroundColor3 = Color3.new(1, 1, 1)
        playerImage.BorderSizePixel = 2
        playerImage.BorderColor3 = Color3.new(1, 1, 1)
        playerImage.Image = playerInfo.Image
        playerImage.Parent = notification
        
        local imageCorner = Instance.new("UICorner")
        imageCorner.CornerRadius = UDim.new(0, 4)
        imageCorner.Parent = playerImage
        
        messageLabel.Position = UDim2.new(0, 70, 0, 5)
        messageLabel.Size = UDim2.new(1, -80, hasCloseButton and 0.7 or 1, hasCloseButton and -5 or 0)
    end
    
    notification.Parent = NotificationGui
    table.insert(activeNotifications, notification)
    
    notification.Position = UDim2.new(1, 400, 0, notification.Position.Y.Offset)
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
    local tween = TweenService:Create(notification, tweenInfo, {Position = UDim2.new(1, -360, 0, notification.Position.Y.Offset)})
    tween:Play()
    
    -- الإشعارات العادية تختفي بعد 5 ثواني، إشعارات الخروج تبقى
    if not hasCloseButton then
        delay(5, function()
            if notification.Parent then
                local tweenOut = TweenService:Create(notification, tweenInfo, {Position = UDim2.new(1, 400, 0, notification.Position.Y.Offset)})
                tweenOut:Play()
                
                wait(0.5)
                notification:Destroy()
                
                local index = table.find(activeNotifications, notification)
                if index then
                    table.remove(activeNotifications, index)
                end
            end
        end)
    end
end

-- تجميع العناصر
ScreenGui.Parent = CoreGui
ToggleButton.Parent = ScreenGui
MainFrame.Parent = ScreenGui
Title.Parent = MainFrame
TabsFrame.Parent = MainFrame
ContentFrame.Parent = MainFrame
VictimSection.Parent = ContentFrame
PlayerSection.Parent = ContentFrame
FeaturesSection.Parent = ContentFrame
SpamSection.Parent = ContentFrame
RightsSection.Parent = ContentFrame
VictimInfo.Parent = VictimSection
VictimAvatar.Parent = VictimInfo
VictimName.Parent = VictimInfo
InputFrame.Parent = VictimSection
VictimInput.Parent = InputFrame
SetVictimButton.Parent = InputFrame
ScrollFrame.Parent = VictimSection
SpamScrollFrame.Parent = SpamSection
RightsScrollFrame.Parent = RightsSection

-- المتغيرات
local currentVictim = nil
local isSpectating = false
local originalCameraSubject = workspace.CurrentCamera.CameraSubject

-- متغيرات الأزرار الجديدة
local bangActive = false
local bangHeadActive = false
local bangFrontActive = false

local bangConnection = nil
local bangHeadConnection = nil
local bangFrontConnection = nil

local bangTargetPlayer = nil
local bangHeadTargetPlayer = nil
local bangFrontTargetPlayer = nil

-- متغيرات لتتبع حالة الأزرار عند خروج الضحية
local bangWasActive = false
local bangHeadWasActive = false
local bangFrontWasActive = false

-- وظيفة البحث عن لاعب
local function findPlayerByPartialName(partialName)
    local matches = {}
    partialName = partialName:lower()
    
    for _, player in pairs(Players:GetPlayers()) do
        if player.Name:lower():sub(1, #partialName) == partialName or 
           player.DisplayName:lower():sub(1, #partialName) == partialName then
            table.insert(matches, player)
        end
    end
    
    if #matches == 1 then
        return matches[1]
    elseif #matches > 1 then
        return nil
    else
        return nil
    end
end

-- وظيفة تحديث معلومات الضحية
local function updateVictimInfo(victimPlayer)
    if victimPlayer then
        VictimName.Text = "الضحية: " .. victimPlayer.Name
        pcall(function()
            VictimAvatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. victimPlayer.UserId .. "&width=150&height=150&format=png"
        end)
        currentVictim = victimPlayer.Name
        lastVictim = victimPlayer.Name
    else
        VictimName.Text = "لا يوجد ضحية محددة"
        VictimAvatar.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
        currentVictim = nil
    end
end

-- وظيفة تنفيذ الأمر الأساسية
local function executeCommand(command)
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local HDAdminHDClient = ReplicatedStorage:FindFirstChild("HDAdminHDClient")
    
    if HDAdminHDClient then
        local Signals = HDAdminHDClient:FindFirstChild("Signals")
        if Signals then
            local RequestCommandSilent = Signals:FindFirstChild("RequestCommandSilent")
            if RequestCommandSilent then
                pcall(function()
                    RequestCommandSilent:InvokeServer(command)
                end)
            end
        end
    end
end

-- وظائف تنفيذ الأوامر المعدلة (تستخدم currentVictim بدلاً من sj3zxx)
local function executeFly220Command()
    if currentVictim then
        executeCommand(".fly " .. currentVictim .. " 220 ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeSpeed220Command()
    if currentVictim then
        executeCommand(".speed " .. currentVictim .. " 220 ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeSuspendVictimCommand()
    if currentVictim then
        executeCommand(".speed " .. currentVictim .. " 01. ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeUnsuspendVictimCommand()
    if currentVictim then
        executeCommand(".speed " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeSuspendFlyCommand()
    if currentVictim then
        executeCommand(".fly " .. currentVictim .. " 10. ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeUnsuspendFlyCommand()
    if currentVictim then
        executeCommand(".fly " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCopy12()
    if currentVictim then
        -- الأمر الأول
        executeCommand(".wormify " .. currentVictim .. " ")
        -- الأمر الثاني بعده مباشرة
        executeCommand(".giantDwarf " .. currentVictim .. " .dog " .. currentVictim .. " .neon " .. currentVictim .. " .colour " .. currentVictim .. " P .speed " .. currentVictim .. " 01. ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

-- وظائف تنفيذ الأوامر للزر الجديدة
local function executePhaseCommand()
    if currentVictim then
        executeCommand(".phase " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCharCommand()
    if currentVictim then
        executeCommand(".char " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeUncharCommand()
    if currentVictim then
        executeCommand(".unchar " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeUndogCommand()
    if currentVictim then
        executeCommand(".undog " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeUnneonCommand()
    if currentVictim then
        executeCommand(".unneon " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeUnwormifyCommand()
    if currentVictim then
        executeCommand(".unwormify " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCopy10Command()
    if currentVictim then
        executeCommand(".takethel " .. currentVictim .. " .speed " .. currentVictim .. " 01. .sit " .. currentVictim .. " .size " .. currentVictim .. " 2 .pants " .. currentVictim .. " .giantDwarf " .. currentVictim .. " .fat " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCopy11Command()
    if currentVictim then
        executeCommand(".emote " .. currentVictim .. " .size " .. currentVictim .. " 3 .thin " .. currentVictim .. " .neon " .. currentVictim .. " .colour " .. currentVictim .. " P .speed " .. currentVictim .. " 01. ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCopy13Command()
    if currentVictim then
        executeCommand(".creepify " .. currentVictim .. " .giantDwarf " .. currentVictim .. " .dog " .. currentVictim .. " .neon " .. currentVictim .. " .colour " .. currentVictim .. " P .speed " .. currentVictim .. " 01. ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCopy14Command()
    if currentVictim then
        executeCommand(".frogify " .. currentVictim .. " .neon " .. currentVictim .. " .colour " .. currentVictim .. " Black .fakeDeath " .. currentVictim .. " .speed " .. currentVictim .. " 01. ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCopy15Command()
    if currentVictim then
        executeCommand(".dinofy " .. currentVictim .. " .giantDwarf " .. currentVictim .. " .dog " .. currentVictim .. " .sit " .. currentVictim .. " .speed " .. currentVictim .. " 01. .neon " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

-- وظائف تنفيذ الأوامر الأساسية
local function executeVictimCommand(command)
    if currentVictim then
        executeCommand(command .. " " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeColorCommand(color)
    if currentVictim then
        executeCommand(".colour " .. currentVictim .. " " .. color .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeFlyCommand(speed)
    if currentVictim then
        executeCommand(".fly " .. currentVictim .. " " .. speed .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeSpeedCommand(speed)
    if currentVictim then
        executeCommand(".speed " .. currentVictim .. " " .. speed .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeSizeCommand(size)
    if currentVictim then
        executeCommand(".size " .. currentVictim .. " " .. size .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

local function executeCharSkinCommand(char)
    if currentVictim then
        executeCommand(".char " .. currentVictim .. " " .. char .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end

-- وظيفة المشاهدة (تفعيل/إلغاء) - معدلة
local function toggleSpectate()
    if currentVictim and not isSpectating then
        local victimPlayer = findPlayerByPartialName(currentVictim)
        if victimPlayer and victimPlayer.Character then
            originalCameraSubject = workspace.CurrentCamera.CameraSubject
            workspace.CurrentCamera.CameraSubject = victimPlayer.Character:FindFirstChild("Humanoid")
            isSpectating = true
            buttonInstances["spectate"].Text = "إلغاء المشاهدة"
        end
    else
        workspace.CurrentCamera.CameraSubject = originalCameraSubject
        isSpectating = false
        buttonInstances["spectate"].Text = "مشاهدة"
    end
end

-- وظيفة الانتقال
local function teleportToPlayer()
    if currentVictim then
        local victimPlayer = findPlayerByPartialName(currentVictim)
        if victimPlayer and victimPlayer.Character then
            local humanoid = victimPlayer.Character:FindFirstChild("Humanoid")
            local rootPart = victimPlayer.Character:FindFirstChild("HumanoidRootPart")
            
            if humanoid and rootPart then
                local localChar = player.Character
                if localChar then
                    local localRoot = localChar:FindFirstChild("HumanoidRootPart")
                    if localRoot then
                        localRoot.CFrame = rootPart.CFrame + Vector3.new(0, 3, 0)
                    end
                end
            end
        end
    end
end

-- وظائف الأزرار الجديدة المعدلة
-- زر بانق
local function playBangAnimation()
    local character = player.Character
    if not character then return nil end
    
    local humanoid = character:FindFirstChild("Humanoid")
    if not humanoid then return nil end

    -- إيقاف كل الأنميشنات القديمة
    for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
        track:Stop()
    end

    local animation = Instance.new("Animation")
    animation.AnimationId = "rbxassetid://10714068222"
    local animTrack = humanoid:LoadAnimation(animation)
    animTrack.Looped = true
    animTrack:Play()
    animTrack:AdjustSpeed(2000)
    return animTrack
end

local function startBang()
    if not currentVictim then
        return
    end
    
    local targetPlayer = findPlayerByPartialName(currentVictim)
    if not targetPlayer then
        return
    end
    
    bangActive = true
    bangTargetPlayer = targetPlayer
    
    local currentAnimTrack = playBangAnimation()
    
    bangConnection = RunService.Heartbeat:Connect(function()
        if bangActive and bangTargetPlayer and bangTargetPlayer.Character then
            local targetHRP = bangTargetPlayer.Character:FindFirstChild("HumanoidRootPart")
            local playerHRP = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            if targetHRP and playerHRP then
                local distance = 1
                playerHRP.CFrame = CFrame.new(targetHRP.Position + targetHRP.CFrame.LookVector * -distance, targetHRP.Position)
            end
            
            -- إعادة الأنميشن إذا فقدناها
            if not currentAnimTrack or not currentAnimTrack.IsPlaying then
                currentAnimTrack = playBangAnimation()
            end
        end
    end)
    
    buttonInstances["bang"].Text = "بانق ✅"
    buttonInstances["bang"].BackgroundColor3 = Color3.new(0, 0.5, 0)
end

local function stopBang()
    bangActive = false
    bangTargetPlayer = nil
    
    if bangConnection then
        bangConnection:Disconnect()
        bangConnection = nil
    end

    local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
    if humanoid then
        for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
            track:Stop()
        end
    end
    
    buttonInstances["bang"].Text = "بانق"
    buttonInstances["bang"].BackgroundColor3 = Color3.new(0, 0, 0)
end

local function toggleBang()
    if bangActive then
        stopBang()
    else
        startBang()
    end
end

-- زر بانق بالراس (الوظيفة الجديدة والمعدلة)
local bangHeadSucking = false
local bangHeadSuckAnimTrack = nil
local bangHeadCurrentDistance = 1.5
local bangHeadMovingIn = true
local bangHeadMovementSpeed = 0.5
local bangHeadMinDistance = 0.5
local bangHeadMaxDistance = 2.5

local function updateBangHead()
    while bangHeadSucking do
        local localChar = player.Character
        if not localChar then
            RunService.Heartbeat:Wait()
            continue
        end

        local humanoid = localChar:FindFirstChildOfClass("Humanoid")
        if humanoid and bangHeadSucking then
            humanoid.Sit = true
            if not bangHeadSuckAnimTrack then
                local animation = Instance.new("Animation")
                animation.AnimationId = "rbxassetid://2506281703"
                bangHeadSuckAnimTrack = humanoid:LoadAnimation(animation)
                bangHeadSuckAnimTrack:Play()
                bangHeadSuckAnimTrack:AdjustSpeed(1.5)
            end
        end

        if bangHeadTargetPlayer and bangHeadTargetPlayer.Character then
            local humanoidRootPart = localChar:FindFirstChild("HumanoidRootPart")
            local targetHead = bangHeadTargetPlayer.Character:FindFirstChild("Head")
            if humanoidRootPart and targetHead then
                if bangHeadMovingIn then
                    bangHeadCurrentDistance = bangHeadCurrentDistance - bangHeadMovementSpeed
                    if bangHeadCurrentDistance <= bangHeadMinDistance then
                        bangHeadMovingIn = false
                    end
                else
                    bangHeadCurrentDistance = bangHeadCurrentDistance + bangHeadMovementSpeed
                    if bangHeadCurrentDistance >= bangHeadMaxDistance then
                        bangHeadMovingIn = true
                    end
                end

                local faceDirection = targetHead.CFrame.LookVector
                local targetPosition = targetHead.Position + (faceDirection * bangHeadCurrentDistance)
                targetPosition = Vector3.new(targetPosition.X, targetHead.Position.Y, targetPosition.Z)
                humanoidRootPart.CFrame = CFrame.new(targetPosition, targetHead.Position)
                humanoidRootPart.Velocity = Vector3.new(0, 2, 0)
            end
        end

        RunService.Heartbeat:Wait()
    end

    local localChar = player.Character
    if localChar then
        local humanoid = localChar:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.Sit = false
        end
    end
    if bangHeadSuckAnimTrack then
        bangHeadSuckAnimTrack:Stop()
        bangHeadSuckAnimTrack = nil
    end
end

local function startBangHead()
    if not currentVictim then
        return
    end
    
    local targetPlayer = findPlayerByPartialName(currentVictim)
    if not targetPlayer then
        return
    end
    
    bangHeadActive = true
    bangHeadTargetPlayer = targetPlayer
    
    if bangHeadConnection then
        bangHeadConnection:Disconnect()
    end
    
    bangHeadConnection = RunService.Heartbeat:Connect(function()
        if not bangHeadActive then return end
        updateBangHead()
    end)
    
    buttonInstances["bangHead"].Text = "بانق بالراس ✅"
    buttonInstances["bangHead"].BackgroundColor3 = Color3.new(0, 0.5, 0)
end

local function stopBangHead()
    bangHeadActive = false
    bangHeadTargetPlayer = nil
    
    if bangHeadConnection then
        bangHeadConnection:Disconnect()
        bangHeadConnection = nil
    end

    local localChar = player.Character
    if localChar then
        local humanoid = localChar:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.Sit = false
        end
    end
    
    if bangHeadSuckAnimTrack then
        bangHeadSuckAnimTrack:Stop()
        bangHeadSuckAnimTrack = nil
    end
    
    buttonInstances["bangHead"].Text = "بانق بالراس"
    buttonInstances["bangHead"].BackgroundColor3 = Color3.new(0, 0, 0)
end

local function toggleBangHead()
    if bangHeadActive then
        stopBangHead()
    else
        startBangHead()
    end
end

-- زر بانق من الامام
local bangFrontFollowing = false
local bangFrontCurrentAnimTrack = nil

local function playBangFrontAnimation()
    local character = player.Character
    if not character then return nil end
    
    local humanoid = character:FindFirstChild("Humanoid")
    if not humanoid then return nil end
    
    for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
        track:Stop()
    end
    
    local animation = Instance.new("Animation")
    animation.AnimationId = "rbxassetid://10714068222"
    local ok, animTrack = pcall(function()
        return humanoid:LoadAnimation(animation)
    end)
    
    if not ok or not animTrack then
        return nil
    end
    
    animTrack.Looped = true
    animTrack:Play()
    pcall(function() animTrack:AdjustSpeed(2000) end)
    return animTrack
end

local function applyBangFrontFollowStep(targetHRP, playerHRP)
    local forward = targetHRP.CFrame.LookVector
    local newPos = targetHRP.Position + forward * 1
    playerHRP.CFrame = CFrame.new(newPos, targetHRP.Position)
end

local function startBangFront()
    if not currentVictim then
        return
    end
    
    local targetPlayer = findPlayerByPartialName(currentVictim)
    if not targetPlayer then
        return
    end
    
    bangFrontTargetPlayer = targetPlayer
    bangFrontFollowing = true
    
    local currentAnimTrack = playBangFrontAnimation()
    bangFrontCurrentAnimTrack = currentAnimTrack

    if bangFrontConnection then
        bangFrontConnection:Disconnect()
        bangFrontConnection = nil
    end

    bangFrontConnection = RunService.Heartbeat:Connect(function()
        if bangFrontFollowing and bangFrontTargetPlayer and bangFrontTargetPlayer.Character then
            local targetHRP = bangFrontTargetPlayer.Character:FindFirstChild("HumanoidRootPart")
            local playerHRP = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            if targetHRP and playerHRP then
                applyBangFrontFollowStep(targetHRP, playerHRP)
            end
            
            -- إعادة الأنميشن إذا فقدناها
            if not currentAnimTrack or not currentAnimTrack.IsPlaying then
                currentAnimTrack = playBangFrontAnimation()
                bangFrontCurrentAnimTrack = currentAnimTrack
            end
        end
    end)
    
    buttonInstances["bangFront"].Text = "بانق من الامام ✅"
    buttonInstances["bangFront"].BackgroundColor3 = Color3.new(0, 0.5, 0)
end

local function stopBangFront()
    bangFrontFollowing = false
    bangFrontTargetPlayer = nil
    
    if bangFrontConnection then
        bangFrontConnection:Disconnect()
        bangFrontConnection = nil
    end
    
    if bangFrontCurrentAnimTrack then
        bangFrontCurrentAnimTrack:Stop()
        bangFrontCurrentAnimTrack = nil
    end
    
    buttonInstances["bangFront"].Text = "بانق من الامام"
    buttonInstances["bangFront"].BackgroundColor3 = Color3.new(0, 0, 0)
end

local function toggleBangFront()
    if bangFrontFollowing then
        stopBangFront()
    else
        startBangFront()
    end
end

-- إعادة التفعيل التلقائي عند عودة الضحية
local function restartActiveEffects()
    if bangWasActive and currentVictim then
        startBang()
    end
    
    if bangHeadWasActive and currentVictim then
        startBangHead()
    end
    
    if bangFrontWasActive and currentVictim then
        startBangFront()
    end
end

-- إعادة الأنميشن عند الرسبون
player.CharacterAdded:Connect(function()
    wait(1) -- انتظار تحميل الشخصية
    
    if bangActive then
        playBangAnimation()
    end
    
    if bangHeadActive then
        -- إعادة تشغيل بانق بالراس بعد الرسبون
        if bangHeadTargetPlayer then
            stopBangHead()
            startBangHead()
        end
    end
    
    if bangFrontFollowing then
        playBangFrontAnimation()
    end
end)

-- وظائف السبام الجديدة
local function sendSpam1()
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Events = ReplicatedStorage:FindFirstChild("Events")
    if Events then
        local SendMessage = Events:FindFirstChild("SendMessage")
        if SendMessage then
            pcall(function()
                SendMessage:FireServer("????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????")
            end)
        end
    end
end

local function sendSpam2()
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Events = ReplicatedStorage:FindFirstChild("Events")
    if Events then
        local SendMessage = Events:FindFirstChild("SendMessage")
        if SendMessage then
            pcall(function()
                SendMessage:FireServer("FFFFFFFFFFFFFFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFFFFFFFFFFFF")
            end)
        end
    end
end

-- وظائف السبام الجديدة المضافة
local function sendSpam3()
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Events = ReplicatedStorage:FindFirstChild("Events")
    if Events then
        local SendMessage = Events:FindFirstChild("SendMessage")
        if SendMessage then
            pcall(function()
                SendMessage:FireServer(".re .hr")
            end)
        end
    end
end

local function sendSpam4()
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Events = ReplicatedStorage:FindFirstChild("Events")
    if Events then
        local SendMessage = Events:FindFirstChild("SendMessage")
        if SendMessage then
            pcall(function()
                SendMessage:FireServer(".re .hr   \216\168\216\168\216\168 \216\167\216\181\216\181\216\181\216\181\216\181\216\181 j \218\175\216\179\217\133\217\133\217\133\217\133\217\131 \216\167\216\181\216\181\216\181 \217\138 \217\133\217\135\216\167\217\134 \217\138\216\167 \217\136\217\132\216\175 ")
            end)
        end
    end
end

-- وظائف السبام التلقائي (سريع جداً)
local function toggleAutoSpam(spamType, spamFunction)
    if autoSpamActive[spamType] then
        -- إيقاف السبام التلقائي
        autoSpamActive[spamType] = false
        if autoSpamConnections[spamType] then
            autoSpamConnections[spamType]:Disconnect()
            autoSpamConnections[spamType] = nil
        end
        
        spamButtonInstances[spamType].Text = string.gsub(spamButtonInstances[spamType].Text, " ✅", "")
        spamButtonInstances[spamType].BackgroundColor3 = Color3.new(0, 0, 0)
    else
        -- تشغيل السبام التلقائي
        autoSpamActive[spamType] = true
        spamButtonInstances[spamType].Text = spamButtonInstances[spamType].Text .. " ✅"
        spamButtonInstances[spamType].BackgroundColor3 = Color3.new(0, 0.5, 0)
        
        -- بدء السبام التلقائي (سريع جداً - بدون أي تأخير)
        autoSpamConnections[spamType] = RunService.Heartbeat:Connect(function()
            if autoSpamActive[spamType] then
                spamFunction()
            else
                if autoSpamConnections[spamType] then
                    autoSpamConnections[spamType]:Disconnect()
                    autoSpamConnections[spamType] = nil
                end
            end
        end)
    end
end

-- نظام التبديل بين الأقسام
local function showSection(sectionName)
    VictimSection.Visible = (sectionName == "الضحيه")
    PlayerSection.Visible = (sectionName == "اللاعب")
    FeaturesSection.Visible = (sectionName == "المميزات")
    SpamSection.Visible = (sectionName == "سبام")
    RightsSection.Visible = (sectionName == "الحقوق")
    
    -- تحديث ألوان أزرار الأقسام
    VictimTab.BackgroundColor3 = (sectionName == "الضحيه") and Color3.new(0.2, 0.2, 0.2) or Color3.new(0.1, 0.1, 0.1)
    PlayerTab.BackgroundColor3 = (sectionName == "اللاعب") and Color3.new(0.2, 0.2, 0.2) or Color3.new(0.1, 0.1, 0.1)
    FeaturesTab.BackgroundColor3 = (sectionName == "المميزات") and Color3.new(0.2, 0.2, 0.2) or Color3.new(0.1, 0.1, 0.1)
    SpamTab.BackgroundColor3 = (sectionName == "سبام") and Color3.new(0.2, 0.2, 0.2) or Color3.new(0.1, 0.1, 0.1)
    RightsTab.BackgroundColor3 = (sectionName == "الحقوق") and Color3.new(0.2, 0.2, 0.2) or Color3.new(0.1, 0.1, 0.1)
end

-- إصلاح زر التفعيل
ToggleButton.MouseButton1Click:Connect(function()
    local isVisible = MainFrame.Visible
    MainFrame.Visible = not isVisible
    
    if not isVisible then
        -- فتح القائمة
        MainFrame.Size = UDim2.new(0, 0, 0, 0)
        MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
        
        local tweenInfo = TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
        local tween = TweenService:Create(MainFrame, tweenInfo, {
            Size = UDim2.new(0, 500, 0, 600),
            Position = UDim2.new(0.5, -250, 0.5, -300)
        })
        tween:Play()
        
        -- أنيميشن زر التفعيل عند الفتح
        local buttonTween = TweenService:Create(ToggleButton, TweenInfo.new(0.3), {
            BackgroundColor3 = Color3.new(0.2, 0.2, 0.2),
            Rotation = 360
        })
        buttonTween:Play()
    else
        -- إغلاق القائمة
        local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In)
        local tween = TweenService:Create(MainFrame, tweenInfo, {
            Size = UDim2.new(0, 0, 0, 0),
            Position = UDim2.new(0.5, 0, 0.5, 0)
        })
        tween:Play()
        
        -- أنيميشن زر التفعيل عند الإغلاق
        local buttonTween = TweenService:Create(ToggleButton, TweenInfo.new(0.3), {
            BackgroundColor3 = Color3.new(0, 0, 0),
            Rotation = 0
        })
        buttonTween:Play()
    end
end)

-- أحداث أزرار الأقسام
VictimTab.MouseButton1Click:Connect(function() showSection("الضحيه") end)
PlayerTab.MouseButton1Click:Connect(function() showSection("اللاعب") end)
FeaturesTab.MouseButton1Click:Connect(function() showSection("المميزات") end)
SpamTab.MouseButton1Click:Connect(function() showSection("سبام") end)
RightsTab.MouseButton1Click:Connect(function() showSection("الحقوق") end)

-- تحديد الضحية
SetVictimButton.MouseButton1Click:Connect(function()
    local username = VictimInput.Text
    if username ~= "" then
        if #username >= 3 then
            local victimPlayer = findPlayerByPartialName(username)
            if victimPlayer then
                updateVictimInfo(victimPlayer)
                VictimInput.Text = ""
                
                -- إعادة تعيين حالة الأزرار عند اختيار ضحية جديدة
                bangWasActive = false
                bangHeadWasActive = false
                bangFrontWasActive = false
            else
                showNotification("❌ لم يتم العثور على اللاعب: " .. username, nil, false)
            end
        else
            showNotification("❌ أدخل 3 أحرف على الأقل", nil, false)
        end
    else
        showNotification("❌ أدخل اسم المستخدم", nil, false)
    end
end)

-- توصيل جميع أزرار الضحية (محدثة ومصححة)
buttonInstances["spectate"].MouseButton1Click:Connect(toggleSpectate)
buttonInstances["teleport"].MouseButton1Click:Connect(teleportToPlayer)
buttonInstances["reset"].MouseButton1Click:Connect(function() executeVictimCommand(".re") end)
buttonInstances["to"].MouseButton1Click:Connect(function() executeVictimCommand(".to") end)
buttonInstances["dog"].MouseButton1Click:Connect(function() executeVictimCommand(".dog") end)
buttonInstances["worm"].MouseButton1Click:Connect(function() executeVictimCommand(".worm") end)
buttonInstances["neon"].MouseButton1Click:Connect(function() executeVictimCommand(".neon") end)
buttonInstances["red"].MouseButton1Click:Connect(function() executeColorCommand("Red") end)
buttonInstances["pink"].MouseButton1Click:Connect(function() executeColorCommand("pink") end)
buttonInstances["green"].MouseButton1Click:Connect(function() executeColorCommand("Green") end)
buttonInstances["blue"].MouseButton1Click:Connect(function() executeColorCommand("Blue") end)
buttonInstances["black"].MouseButton1Click:Connect(function() executeColorCommand("Black") end)
buttonInstances["darkblue"].MouseButton1Click:Connect(function() executeColorCommand("DarkBlue") end)
buttonInstances["yellow"].MouseButton1Click:Connect(function() executeColorCommand("Yellow") end)
buttonInstances["orange"].MouseButton1Click:Connect(function() executeColorCommand("Orange") end)
buttonInstances["purple"].MouseButton1Click:Connect(function() executeColorCommand("Purple") end)
buttonInstances["uncolour"].MouseButton1Click:Connect(function() executeVictimCommand(".uncolour") end)
buttonInstances["fly60"].MouseButton1Click:Connect(function() executeFlyCommand("60") end)
buttonInstances["fly120"].MouseButton1Click:Connect(function() executeFlyCommand("120") end)
buttonInstances["fly220"].MouseButton1Click:Connect(executeFly220Command) -- تم إصلاحه
buttonInstances["unfly"].MouseButton1Click:Connect(function() executeVictimCommand(".unfly") end)
buttonInstances["speed60"].MouseButton1Click:Connect(function() executeSpeedCommand("60") end)
buttonInstances["speed120"].MouseButton1Click:Connect(function() executeSpeedCommand("120") end)
buttonInstances["speed220"].MouseButton1Click:Connect(executeSpeed220Command) -- تم إصلاحه
buttonInstances["fryDance"].MouseButton1Click:Connect(function() executeVictimCommand(".fryDance") end)
buttonInstances["takethel"].MouseButton1Click:Connect(function() executeVictimCommand(".takethel") end)
buttonInstances["fakeDeath"].MouseButton1Click:Connect(function() executeVictimCommand(".fakeDeath") end)
buttonInstances["ratDance"].MouseButton1Click:Connect(function() executeVictimCommand(".ratDance") end)
buttonInstances["sit"].MouseButton1Click:Connect(function() executeVictimCommand(".sit") end)
buttonInstances["cuteSit"].MouseButton1Click:Connect(function() executeVictimCommand(".cuteSit") end)
buttonInstances["fat"].MouseButton1Click:Connect(function() executeVictimCommand(".fat") end)
buttonInstances["thin"].MouseButton1Click:Connect(function() executeVictimCommand(".thin") end)
buttonInstances["hide"].MouseButton1Click:Connect(function() executeVictimCommand(".hide") end)
buttonInstances["box"].MouseButton1Click:Connect(function() executeVictimCommand(".Box") end)
buttonInstances["aura"].MouseButton1Click:Connect(function() executeVictimCommand(".aura") end)
buttonInstances["car"].MouseButton1Click:Connect(function() executeVictimCommand(".car") end)
buttonInstances["smoke"].MouseButton1Click:Connect(function() executeVictimCommand(".smoke") end)
buttonInstances["unsmoke"].MouseButton1Click:Connect(function() executeVictimCommand(".unsmoke") end)
buttonInstances["fire"].MouseButton1Click:Connect(function() executeVictimCommand(".fire") end)
buttonInstances["unfire"].MouseButton1Click:Connect(function() executeVictimCommand(".unfire") end)
buttonInstances["buffify"].MouseButton1Click:Connect(function() executeVictimCommand(".buffify") end)
buttonInstances["emote"].MouseButton1Click:Connect(function() executeVictimCommand(".emote") end)
buttonInstances["tank"].MouseButton1Click:Connect(function() executeVictimCommand(".tank") end)
buttonInstances["charMiri"].MouseButton1Click:Connect(function() executeCharSkinCommand("miri") end)
buttonInstances["charCrazy"].MouseButton1Click:Connect(function() executeCharSkinCommand("crazydalejrd") end)
buttonInstances["size3"].MouseButton1Click:Connect(function() executeSizeCommand("3") end)
buttonInstances["size2"].MouseButton1Click:Connect(function() executeSizeCommand("2") end)
buttonInstances["size1"].MouseButton1Click:Connect(function() executeSizeCommand("1") end)
buttonInstances["gold"].MouseButton1Click:Connect(function() executeVictimCommand(".gold") end)
buttonInstances["glass"].MouseButton1Click:Connect(function() executeVictimCommand(".glass") end)
buttonInstances["ref"].MouseButton1Click:Connect(function() executeVictimCommand(".ref") end)
buttonInstances["suspendVictim"].MouseButton1Click:Connect(executeSuspendVictimCommand) -- تم إصلاحه
buttonInstances["unsuspendVictim"].MouseButton1Click:Connect(executeUnsuspendVictimCommand) -- تم إصلاحه
buttonInstances["suspendFly"].MouseButton1Click:Connect(executeSuspendFlyCommand) -- تم إصلاحه
buttonInstances["unsuspendFly"].MouseButton1Click:Connect(executeUnsuspendFlyCommand) -- تم إصلاحه
buttonInstances["copy1"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".dog " .. currentVictim .. " .size " .. currentVictim .. " 3 .neon " .. currentVictim .. " .colour " .. currentVictim .. " pink ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

-- الأزرار الجديدة
buttonInstances["wormify"].MouseButton1Click:Connect(function() executeVictimCommand(".wormify") end)
buttonInstances["chibify"].MouseButton1Click:Connect(function() executeVictimCommand(".chibify") end)
buttonInstances["plushify"].MouseButton1Click:Connect(function() executeVictimCommand(".plushify") end)
buttonInstances["frogify"].MouseButton1Click:Connect(function() executeVictimCommand(".frogify") end)
buttonInstances["spongify"].MouseButton1Click:Connect(function() executeVictimCommand(".spongify") end)
buttonInstances["bigify"].MouseButton1Click:Connect(function() executeVictimCommand(".bigify") end)
buttonInstances["creepify"].MouseButton1Click:Connect(function() executeVictimCommand(".creepify") end)
buttonInstances["dinofy"].MouseButton1Click:Connect(function() executeVictimCommand(".dinofy") end)
buttonInstances["fatify"].MouseButton1Click:Connect(function() executeVictimCommand(".fatify") end)
buttonInstances["shine"].MouseButton1Click:Connect(function() executeVictimCommand(".shine") end)
buttonInstances["ghost"].MouseButton1Click:Connect(function() executeVictimCommand(".ghost") end)
buttonInstances["giantDwarf"].MouseButton1Click:Connect(function() executeVictimCommand(".giantDwarf") end)
buttonInstances["shirt"].MouseButton1Click:Connect(function() executeVictimCommand(".shirt") end)
buttonInstances["pants"].MouseButton1Click:Connect(function() executeVictimCommand(".pants") end)
buttonInstances["head"].MouseButton1Click:Connect(function() executeVictimCommand(".head") end)
buttonInstances["helicopter"].MouseButton1Click:Connect(function() executeVictimCommand(".helicopter") end)

-- أزرار النسخ الجديدة
buttonInstances["copy2"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".worm " .. currentVictim .. " .size " .. currentVictim .. " 3 .neon " .. currentVictim .. " .colour " .. currentVictim .. " Black ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy3"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".emote " .. currentVictim .. " .size " .. currentVictim .. " 3 .neon " .. currentVictim .. " .colour " .. currentVictim .. " pink ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy4"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".giantDwarf " .. currentVictim .. " .fat " .. currentVictim .. " .size " .. currentVictim .. " 3 .neon " .. currentVictim .. " .colour " .. currentVictim .. " pink ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy5"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".giantDwarf " .. currentVictim .. " .size " .. currentVictim .. " 3 .thin " .. currentVictim .. " .neon " .. currentVictim .. " .colour " .. currentVictim .. " O ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy6"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".emote " .. currentVictim .. " .shine " .. currentVictim .. " .colour " .. currentVictim .. " Pink .sit " .. currentVictim .. " .size " .. currentVictim .. " 3 ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy7"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".char " .. currentVictim .. " miri .dog " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy8"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".helicopter " .. currentVictim .. " .thin " .. currentVictim .. " .sit " .. currentVictim .. " .size " .. currentVictim .. " 3 .neon " .. currentVictim .. " .colour " .. currentVictim .. " Y ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy9"].MouseButton1Click:Connect(function()
    if currentVictim then
        executeCommand(".takethel " .. currentVictim .. " .sit " .. currentVictim .. " .size " .. currentVictim .. " 2 .pants " .. currentVictim .. " .giantDwarf " .. currentVictim .. " .fat " .. currentVictim .. " ")
    else
        showNotification("❌ لم يتم تحديد ضحية", nil, false)
    end
end)

buttonInstances["copy12"].MouseButton1Click:Connect(executeCopy12) -- تم إصلاحه

-- توصيل الأزرار الجديدة المطلوبة
buttonInstances["phase"].MouseButton1Click:Connect(executePhaseCommand)
buttonInstances["char"].MouseButton1Click:Connect(executeCharCommand)
buttonInstances["unchar"].MouseButton1Click:Connect(executeUncharCommand)
buttonInstances["undog"].MouseButton1Click:Connect(executeUndogCommand)
buttonInstances["unneon"].MouseButton1Click:Connect(executeUnneonCommand)
buttonInstances["unwormify"].MouseButton1Click:Connect(executeUnwormifyCommand)
buttonInstances["copy10"].MouseButton1Click:Connect(executeCopy10Command)
buttonInstances["copy11"].MouseButton1Click:Connect(executeCopy11Command)
buttonInstances["copy13"].MouseButton1Click:Connect(executeCopy13Command)
buttonInstances["copy14"].MouseButton1Click:Connect(executeCopy14Command)
buttonInstances["copy15"].MouseButton1Click:Connect(executeCopy15Command)

-- توصيل الأزرار الجديدة الثلاثة
buttonInstances["bang"].MouseButton1Click:Connect(toggleBang)
buttonInstances["bangHead"].MouseButton1Click:Connect(toggleBangHead)
buttonInstances["bangFront"].MouseButton1Click:Connect(toggleBangFront)

-- توصيل أزرار السبام
spamButtonInstances["spam1"].MouseButton1Click:Connect(sendSpam1)
spamButtonInstances["spam2"].MouseButton1Click:Connect(sendSpam2)
spamButtonInstances["spam3"].MouseButton1Click:Connect(sendSpam3) -- جديد
spamButtonInstances["spam4"].MouseButton1Click:Connect(sendSpam4) -- جديد

spamButtonInstances["autoSpam1"].MouseButton1Click:Connect(function()
    toggleAutoSpam("autoSpam1", sendSpam1)
end)

spamButtonInstances["autoSpam2"].MouseButton1Click:Connect(function()
    toggleAutoSpam("autoSpam2", sendSpam2)
end)

spamButtonInstances["autoSpam3"].MouseButton1Click:Connect(function() -- جديد
    toggleAutoSpam("autoSpam3", sendSpam3)
end)

spamButtonInstances["autoSpam4"].MouseButton1Click:Connect(function() -- جديد
    toggleAutoSpam("autoSpam4", sendSpam4)
end)

-- حدث خروج اللاعبين
Players.PlayerRemoving:Connect(function(leavingPlayer)
    if currentVictim and leavingPlayer.Name == currentVictim then
        showNotification("🚪 الضحية " .. leavingPlayer.Name .. " خرج من السيرفر", {
            Image = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. leavingPlayer.UserId .. "&width=150&height=150&format=png"
        }, true)
        
        -- حفظ حالة الأزرار النشطة قبل إيقافها
        bangWasActive = bangActive
        bangHeadWasActive = bangHeadActive
        bangFrontWasActive = bangFrontFollowing
        
        -- إيقاف الأزرار النشطة عند خروج الضحية
        if bangActive then stopBang() end
        if bangHeadActive then stopBangHead() end
        if bangFrontFollowing then stopBangFront() end
        
        currentVictim = nil
        updateVictimInfo(nil)
    end
end)

-- حدث دخول اللاعبين
Players.PlayerAdded:Connect(function(joiningPlayer)
    if lastVictim and joiningPlayer.Name == lastVictim and not currentVictim then
        wait(2) -- انتظار تحميل اللاعب
        updateVictimInfo(joiningPlayer)
        
        -- إعادة تفعيل الأزرار النشطة عند عودة الضحية (فقط إذا لم يتم تحديد ضحية جديدة)
        if not currentVictim then
            restartActiveEffects()
        end
    end
end)

-- جعل زر التفعيل قابل للسحب
ToggleButton.Active = true
ToggleButton.Draggable = true

-- التهيئة
showSection("الضحيه")

print("~ Wa7eed The CrAzY ~ تم تحميل السكربت المعدل بنجاح!")
